@model APPR_P_2.Models.VolunteerViewModel
@{
    ViewBag.Title = "Volunteer Opportunities";
}

<div class="row">
    <div class="col-12 text-center mb-5">
        <h2>Join Our Volunteer Team</h2>
        <p class="lead">Make a difference in communities affected by disasters</p>
    </div>
</div>

<!-- Call-to-Action Section -->
<div class="row mb-5">
    <div class="col-12">
        <div class="card bg-primary text-white text-center py-4">
            <div class="card-body">
                <h3 class="card-title">Volunteers Make the Difference</h3>
                <p class="card-text">Join our network of dedicated volunteers helping communities in crisis</p>
                <div class="mt-4">
                    <a href="#volunteerForm" class="btn btn-light btn-lg me-3">
                        <i class="fas fa-user-plus me-2"></i>Register Now
                    </a>
                    <a href="#opportunities" class="btn btn-outline-light btn-lg">
                        <i class="fas fa-list me-2"></i>View Opportunities
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Volunteer Statistics -->
<div class="row mb-5">
    <div class="col-12">
        <h3 class="mb-4 text-center">Volunteer Impact</h3>
        <div class="row">
            <div class="col-md-3 text-center">
                <div class="stats-box">
                    <div class="stats-number">3,415</div>
                    <div class="stats-label">Volunteers Registered</div>
                </div>
            </div>
            <div class="col-md-3 text-center">
                <div class="stats-box">
                    <div class="stats-number">127,840</div>
                    <div class="stats-label">Hours Contributed</div>
                </div>
            </div>
            <div class="col-md-3 text-center">
                <div class="stats-box">
                    <div class="stats-number">42</div>
                    <div class="stats-label">Active Projects</div>
                </div>
            </div>
            <div class="col-md-3 text-center">
                <div class="stats-box">
                    <div class="stats-number">96%</div>
                    <div class="stats-label">Satisfaction Rate</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Volunteer Opportunities -->
<div id="opportunities" class="row mb-5">
    <div class="col-12">
        <h3 class="mb-4 text-center">Current Volunteer Opportunities</h3>

        <div class="row">
            <!-- Emergency Response Team -->
            <div class="col-md-6 col-lg-4 mb-4">
                <div class="card volunteer-card h-100">
                    <div class="card-header bg-danger text-white">
                        <h5 class="mb-0"><i class="fas fa-ambulance me-2"></i>Emergency Response</h5>
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <span class="badge bg-danger">Urgent</span>
                            <span class="text-muted"><i class="fas fa-users me-1"></i> 15 needed</span>
                        </div>
                        <p class="card-text">Immediate deployment to disaster areas to provide first response assistance.</p>
                        <ul class="list-group list-group-flush mb-3">
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>First Aid certification required</li>
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Physical fitness required</li>
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>24-48 hour availability</li>
                        </ul>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#volunteerModal" data-opportunity="Emergency Response">
                            Apply Now
                        </button>
                    </div>
                </div>
            </div>

            <!-- Supply Distribution -->
            <div class="col-md-6 col-lg-4 mb-4">
                <div class="card volunteer-card h-100">
                    <div class="card-header bg-warning text-dark">
                        <h5 class="mb-0"><i class="fas fa-box-open me-2"></i>Supply Distribution</h5>
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <span class="badge bg-warning">High Need</span>
                            <span class="text-muted"><i class="fas fa-users me-1"></i> 25 needed</span>
                        </div>
                        <p class="card-text">Help organize and distribute supplies to affected communities.</p>
                        <ul class="list-group list-group-flush mb-3">
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Organization skills</li>
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Physical ability to lift boxes</li>
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>1-week commitment</li>
                        </ul>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#volunteerModal" data-opportunity="Supply Distribution">
                            Apply Now
                        </button>
                    </div>
                </div>
            </div>

            <!-- Remote Support -->
            <div class="col-md-6 col-lg-4 mb-4">
                <div class="card volunteer-card h-100">
                    <div class="card-header bg-info text-white">
                        <h5 class="mb-0"><i class="fas fa-laptop-house me-2"></i>Remote Support</h5>
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <span class="badge bg-info">Ongoing</span>
                            <span class="text-muted"><i class="fas fa-users me-1"></i> 50 needed</span>
                        </div>
                        <p class="card-text">Provide coordination and support remotely from anywhere.</p>
                        <ul class="list-group list-group-flush mb-3">
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Computer literacy</li>
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Communication skills</li>
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Flexible schedule</li>
                        </ul>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#volunteerModal" data-opportunity="Remote Support">
                            Apply Now
                        </button>
                    </div>
                </div>
            </div>

            <!-- Medical Support -->
            <div class="col-md-6 col-lg-4 mb-4">
                <div class="card volunteer-card h-100">
                    <div class="card-header bg-danger text-white">
                        <h5 class="mb-0"><i class="fas fa-first-aid me-2"></i>Medical Support</h5>
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <span class="badge bg-danger">Urgent</span>
                            <span class="text-muted"><i class="fas fa-users me-1"></i> 20 needed</span>
                        </div>
                        <p class="card-text">Provide medical assistance and basic healthcare in disaster areas.</p>
                        <ul class="list-group list-group-flush mb-3">
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Medical certification required</li>
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Emergency experience</li>
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>2-week minimum commitment</li>
                        </ul>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#volunteerModal" data-opportunity="Medical Support">
                            Apply Now
                        </button>
                    </div>
                </div>
            </div>

            <!-- Construction/Rebuilding -->
            <div class="col-md-6 col-lg-4 mb-4">
                <div class="card volunteer-card h-100">
                    <div class="card-header bg-success text-white">
                        <h5 class="mb-0"><i class="fas fa-hammer me-2"></i>Rebuilding</h5>
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <span class="badge bg-success">Moderate Need</span>
                            <span class="text-muted"><i class="fas fa-users me-1"></i> 30 needed</span>
                        </div>
                        <p class="card-text">Help rebuild and repair homes and infrastructure in affected areas.</p>
                        <ul class="list-group list-group-flush mb-3">
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Construction experience helpful</li>
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Physical fitness required</li>
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>1-week minimum commitment</li>
                        </ul>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#volunteerModal" data-opportunity="Rebuilding">
                            Apply Now
                        </button>
                    </div>
                </div>
            </div>

            <!-- Counseling Services -->
            <div class="col-md-6 col-lg-4 mb-4">
                <div class="card volunteer-card h-100">
                    <div class="card-header bg-info text-white">
                        <h5 class="mb-0"><i class="fas fa-hands-helping me-2"></i>Counseling</h5>
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <span class="badge bg-info">Ongoing</span>
                            <span class="text-muted"><i class="fas fa-users me-1"></i> 15 needed</span>
                        </div>
                        <p class="card-text">Provide emotional support and counseling to affected individuals and families.</p>
                        <ul class="list-group list-group-flush mb-3">
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Counseling certification</li>
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Trauma experience</li>
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Flexible schedule</li>
                        </ul>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#volunteerModal" data-opportunity="Counseling">
                            Apply Now
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Volunteer Registration Form -->
<div id="volunteerForm" class="row mb-5">
    <div class="col-12">
        <div class="form-section">
            <h3 class="mb-4 text-center"><i class="fas fa-user-plus me-2"></i>Volunteer Registration</h3>

            @using (Html.BeginForm("RegisterVolunteer", "Volunteer", FormMethod.Post, new { @class = "needs-validation", novalidate = "true" }))
            {
                @Html.AntiForgeryToken()

                @Html.ValidationSummary(true, "", new { @class = "validation-summary-errors" })

                <div class="row">
                    <div class="col-md-6 mb-3">
                        @Html.LabelFor(m => m.FirstName, new { @class = "form-label" })
                        @Html.TextBoxFor(m => m.FirstName, new { @class = "form-control", required = "required" })
                        @Html.ValidationMessageFor(m => m.FirstName)
                    </div>
                    <div class="col-md-6 mb-3">
                        @Html.LabelFor(m => m.LastName, new { @class = "form-label" })
                        @Html.TextBoxFor(m => m.LastName, new { @class = "form-control", required = "required" })
                        @Html.ValidationMessageFor(m => m.LastName)
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        @Html.LabelFor(m => m.Email, new { @class = "form-label" })
                        @Html.TextBoxFor(m => m.Email, new { @class = "form-control", type = "email", required = "required" })
                        @Html.ValidationMessageFor(m => m.Email)
                    </div>
                    <div class="col-md-6 mb-3">
                        @Html.LabelFor(m => m.Phone, new { @class = "form-label" })
                        @Html.TextBoxFor(m => m.Phone, new { @class = "form-control", required = "required" })
                        @Html.ValidationMessageFor(m => m.Phone)
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        @Html.LabelFor(m => m.Location, new { @class = "form-label" })
                        @Html.TextBoxFor(m => m.Location, new { @class = "form-control", required = "required" })
                        @Html.ValidationMessageFor(m => m.Location)
                    </div>
                    <div class="col-md-6 mb-3">
                        @Html.LabelFor(m => m.Availability, new { @class = "form-label" })
                        @if (ViewBag.AvailabilityOptions != null)
                        {
                            @Html.DropDownListFor(m => m.Availability, new SelectList(ViewBag.AvailabilityOptions, "Value", "Text"),
                            "Select Availability", new { @class = "form-select", required = "required" })
                                        }
                        else
                        {
                            <select class="form-select" id="Availability" name="Availability" required>
                                <option value="">Select Availability</option>
                                <option value="Immediate">Immediate (within 24-48 hours)</option>
                                <option value="ShortTerm">Short-term (within 1 week)</option>
                                <option value="LongTerm">Long-term (flexible)</option>
                                <option value="Remote">Remote support only</option>
                            </select>
                        }
                        @Html.ValidationMessageFor(m => m.Availability)
                    </div>
                </div>

                <div class="mb-3">
                    @Html.LabelFor(m => m.Skills, new { @class = "form-label" })
                    @if (ViewBag.SkillOptions != null)
                    {
                        @Html.ListBoxFor(m => m.Skills, new MultiSelectList(ViewBag.SkillOptions, "Value", "Text"),
                        new { @class = "form-select", multiple = "multiple", size = "6", required = "required" })
                                }
                    else
                    {
                        <select class="form-select" id="Skills" name="Skills" multiple size="6" required>
                            <option value="Medical">Medical/First Aid</option>
                            <option value="Construction">Construction/Carpentry</option>
                            <option value="Cooking">Cooking/Food Preparation</option>
                            <option value="Counseling">Counseling/Mental Health</option>
                            <option value="Logistics">Logistics/Coordination</option>
                            <option value="Language">Language Translation</option>
                            <option value="Teaching">Teaching/Education</option>
                            <option value="Tech">Technology/IT</option>
                            <option value="Other">Other</option>
                        </select>
                    }
                    @Html.ValidationMessageFor(m => m.Skills)
                </div>

                <div class="mb-3">
                    @Html.LabelFor(m => m.InterestArea, new { @class = "form-label" })
                    @if (ViewBag.InterestOptions != null)
                    {
                        @Html.DropDownListFor(m => m.InterestArea, new SelectList(ViewBag.InterestOptions, "Value", "Text"),
                        "Select Area of Interest", new { @class = "form-select", required = "required" })
                                }
                    else
                    {
                        <select class="form-select" id="InterestArea" name="InterestArea" required>
                            <option value="">Select Area of Interest</option>
                            <option value="Emergency Response">Emergency Response</option>
                            <option value="Supply Distribution">Supply Distribution</option>
                            <option value="Remote Support">Remote Support</option>
                            <option value="Medical Support">Medical Support</option>
                            <option value="Rebuilding">Rebuilding/Construction</option>
                            <option value="Counseling">Counseling Services</option>
                            <option value="Teaching">Education/Teaching</option>
                            <option value="Other">Other</option>
                        </select>
                    }
                    @Html.ValidationMessageFor(m => m.InterestArea)
                </div>

                <div class="mb-3">
                    @Html.LabelFor(m => m.Experience, new { @class = "form-label" })
                    @Html.TextAreaFor(m => m.Experience, new { @class = "form-control", rows = "4",
                    placeholder = "Describe any previous volunteer experience or relevant background" })
                @Html.ValidationMessageFor(m => m.Experience)
            </div>

            <div class="mb-3 form-check">
                @Html.CheckBoxFor(m => m.EmergencyResponse, new { @class = "form-check-input" })
                @Html.LabelFor(m => m.EmergencyResponse, new { @class = "form-check-label" })
            </div>

            <div class="mb-3 form-check">
                @Html.CheckBoxFor(m => m.Agreement, new { @class = "form-check-input", required = "required" })
                @Html.LabelFor(m => m.Agreement, new { @class = "form-check-label" })
                @Html.ValidationMessageFor(m => m.Agreement)
            </div>

            <button type="submit" class="btn btn-primary w-100">Submit Application</button>
                        }
        </div>
    </div>
</div>

<!-- Success Stories -->
<div class="row mb-5">
    <div class="col-12">
        <h3 class="mb-4 text-center">Volunteer Success Stories</h3>
        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="card h-100">
                    <div class="card-body text-center">
                        <img src="https://placehold.co/100x100" class="rounded-circle mb-3" alt="Volunteer">
                        <h5 class="card-title">Sarah Johnson</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Emergency Response Volunteer</h6>
                        <p class="card-text">"Volunteering with Disaster Allowance Foundation has been the most rewarding experience of my life. I've helped communities rebuild after devastating floods."</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card h-100">
                    <div class="card-body text-center">
                        <img src="https://placehold.co/100x100" class="rounded-circle mb-3" alt="Volunteer">
                        <h5 class="card-title">Michael Chen</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Remote Support Volunteer</h6>
                        <p class="card-text">"Even though I can't be on the ground, my tech skills have helped coordinate rescue efforts and allocate resources where they're needed most."</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card h-100">
                    <div class="card-body text-center">
                        <img src="https://placehold.co/100x100" class="rounded-circle mb-3" alt="Volunteer">
                        <h5 class="card-title">Elena Rodriguez</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Medical Volunteer</h6>
                        <p class="card-text">"As a nurse, I've used my skills to provide critical care in disaster zones. The training and support from DAF made me feel prepared and valued."</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts {
    <script>
        $(document).ready(function() {
            // Set opportunity when buttons are clicked
            $('[data-opportunity]').click(function() {
                const opportunity = $(this).data('opportunity');
                $('#InterestArea').val(opportunity);
            });

            // Form validation
            (function () {
                'use strict'

                var forms = document.querySelectorAll('.needs-validation')

                Array.prototype.slice.call(forms)
                    .forEach(function (form) {
                        form.addEventListener('submit', function (event) {
                            if (!form.checkValidity()) {
                                event.preventDefault()
                                event.stopPropagation()
                            }

                            form.classList.add('was-validated')
                        }, false)
                    })
            })()
        });
    </script>
}